doctype html
html(lang="ru", ng-app='adminModule')
    head
        title= "Masons mafia admin"
        meta(charset='utf-8', name='viewport', content='width=device-width, initial-scale=1.0')
        link(rel='stylesheet', href='/css/bootstrap.css')
        link(rel='stylesheet', href='/css/datepicker3.css')
        link(rel='stylesheet', href='/css/font-awesome.min.css')
        link(rel='stylesheet', href='https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.3.5/bootstrap-select.min.css')
        link(rel='stylesheet', href='/css/app.css')
        script(src='/js/jquery.js', type='text/javascript')
        script(src='/js/moment.js', type='text/javascript')
        script(src='https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.3.5/bootstrap-select.min.js', type='text/javascript')
        script(src='/js/angular.js', type='text/javascript')
        script(src='/js/angular-locale_ru-ru.js', type='text/javascript')
        script(src='/js/ui-bootstrap-tpls.min.js', type='text/javascript')
        script(src='/js/app_admin.js', type='text/javascript')
    body
        include navigation
        div.container
            form
                div.row
                    div.col-sm-3(ng-controller='datePickerCtrl')
                        label(for='date') Дата:
                        div#datepicker.input-group.date
                            input#date.form-control(type='text', ng-click="open($event)", ng-model='dt', datepicker-popup='dd-MMMM-yyyy', is-open="opened", ng-required="true", close-on-date-selection='false', current-text='Сегодня', clear-text='Очистить', close-text='Закрыть', placeholder='Введите дату..', tabindex='1')
                            span.input-group-btn
                                button.btn.btn-default.form-control(type='button', ng-click="open($event)")
                                    i.fa.fa-th

                    div.col-sm-3(ng-controller='refereeSelectCtrl')
                        label(for='date') Ведущий:
                        input.form-control(type='text', ng-model='referee', placeholder='Введите имя..', tabindex='2')

                    div.col-sm-3(ng-controller='winPartyCtrl')
                        label(for='winParty') Победившая команда:
                        select#winParty.form-control(ng-init='winningParties=["Мирные", "Мафия"]', ng-model="winningParty", ng-options='party for party in winningParties', tabindex='3')

                div.row
                    div.col-sm-3
                        span
                            br
                div.row
                    div.col-sm-12(ng-controller='playersTableCtrl')
                        label(for='players-table') Игроки:
                        table#players-table.table.table-striped.table-bordered.table-responsive
                            thead
                                tr
                                    th #
                                    th Имя
                                    th Роль
                                    th Фолов
                                    th Лайки
                                    th Лучший игрок
                                    th Доп. Очки
                            tbody
                                tr(ng-repeat='player in players')
                                    td {{$index+1}}
                                    td.col-xs-3
                                        input.form-control(ng-model='player.name', type='text', placeholder='Введите имя..')
                                    td.col-xs-3
                                        select.form-control(ng-model='player.role', ng-options='role.name for role in roles')
                                    td.col-xs-2
                                        select.form-control(ng-init='possibleFouls=[0, 1, 2, 3, 4]', ng-model='player.fouls', ng-options='possibleFoul for possibleFoul in possibleFouls')
                                    td.col-xs-1
                                        input.form-control(ng-model='player.likes', type='text', placeholder='Введите количество..')
                                    td.col-xs-1
                                        input(ng-model='player.isBest', type='checkbox')
                                    td.col-xs-2
                                        input.form-control(ng-model='player.extraScores', type='text', placeholder='Дополнительные очки..')
                div.row
                    div.col-sm-4
                    div.col-sm-4
                    div.col-sm-4
                        button.btn.btn-success.pull-right(type='button') Сохранить
                //div(ng-controller='LogCtrl')
                //    button(ng-click='$log.log(players)') log
        include footer