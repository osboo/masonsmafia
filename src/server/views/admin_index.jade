doctype html
html(lang="ru", ng-app='adminApp')
    head
        title= "Masons mafia admin"
        meta(charset='utf-8', name='viewport', content='width=device-width, initial-scale=1.0')
        link(rel='stylesheet', href='/css/bootstrap.css')
        link(rel='stylesheet', href='/css/app.css')
        script(src='/js/jquery.js', type='text/javascript')
        script(src='/js/bootstrap.js', type='text/javascript')
        script(src='/js/typeahead.bundle.js', type='text/javascript')
        script(src='/js/angular.js', type='text/javascript')
        script(src='/js/app_admin.js', type='text/javascript')
    body(ng-controller="admnController")
        .div#js-global-data(data-user='#{JSON.stringify(user)}')
        .container()
            nav.navbar.navbar-default(role='navigation')
                ul.nav.navbar-nav
                    li.active
                        a(href='/') Админка
                    li
                        a(href='/stat') Статистика
                    li
                        a(href='/twitter') Twitter
            form.row
                .col-md-4
                        input.form-control(type="text", currentPlayer)
                .col-md-4
                        button.btn.btn-success(ng-click="addPlayer()", ng-disabled="players.length>=MAX_PLAYER_COUNT") Добавить
            .row(ng-show="players.length")
                .col-md-12
                    table.table.table-striped
                        thead
                            tr
                                th Имя
                                th Роль
                                th Фолы
                                th Лайки
                                th Убит первым
                                th Лучший игрок
                                th
                        tbody
                            tr(ng-repeat="player in players")
                                td {{player.id}}
                                td.col-xs-2
                                    select.form-control(ng-model="player.role", ng-options="role.name for role in roles")
                                td.col-xs-1
                                    input.form-control(type="text", ng-model="player.fallCount")
                                td.col-xs-1
                                    input.form-control(type="text", ng-model="player.likeCount")
                                td.col-xs-2
                                    select.form-control(ng-model="player.firstKilled", ng-options="item.name for item in firstKilledItems")
                                td.col-xs-1
                                    input.form-control(type="text", ng-model="player.bestPlayerScores")
                                td.col-xs-1
                                    button.close(type="button", ng-click="removePlayer(player)") &times
            .row
                .col-md-2(ng-show="players.length>=MAX_PLAYER_COUNT")
                    select.form-control(ng-model="wonParty", ng-options="party.name for party in parties")
                .col-md-4
                    button.btn.btn-success(ng-click="createGame()", ng-disabled="players.length<MAX_PLAYER_COUNT") Сохранить игру
